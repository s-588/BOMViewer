// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
//go:generate templ generate

package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

import (
	"context"
	"github.com/s-588/BOMViewer/internal/models"
)

// Update the function signature to accept TableControlsArgs
func Index(ctx context.Context, materials []models.Material, tableArgs MaterialTableArgs) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<html lang=\"ru\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>App title</title><link rel=\"stylesheet\" href=\"/static/css/style.css\"><link rel=\"stylesheet\" href=\"/static/css/bootstrap.min.css\"><script src=\"/static/js/bootstrap.bundle.min.js\"></script></head><body class=\"bg-light\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = header().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<div id=\"error-area\" class=\"position-fixed top-0 start-50 translate-middle-x mt-3\" style=\"min-width:300px; z-index:2000; display:none;\"></div><div class=\"container mb-5\" id=\"content\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = MainMaterialPage(materials, tableArgs).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</div><div id=\"modal-container\"></div></body><script src=\"/static/js/image-viewer.js\"></script><script src=\"/static/js/htmx.min.js\"></script><script>\r\ndocument.body.addEventListener(\"htmx:responseError\", function (e) {\r\n if (e.detail.xhr.status === 299) {\r\n        showAlert(\"warning\", e.detail.xhr.response);\r\n        e.preventDefault();\r\n        return;\r\n    }\r\n    showAlert(\"danger\", e.detail.xhr.response);\r\n});\r\n</script><script>\r\nlet alertTimeout = null;\r\n\r\nfunction showAlert(type, message) {\r\n    const area = document.getElementById(\"error-area\");\r\n\r\n    if (alertTimeout) {\r\n        clearTimeout(alertTimeout);\r\n        alertTimeout = null;\r\n    }\r\n\r\n    const icon = getIcon(type);\r\n\r\n    area.innerHTML = `\r\n        <div class=\"alert alert-${type} alert-dismissible shadow-lg fade show d-flex align-items-center gap-2 mb-0\" role=\"alert\" style=\"border-radius: .75rem;\">\r\n            <i class=\"bi ${icon} fs-4\"></i>\r\n            <div class=\"flex-fill\">${message}</div>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n        </div>\r\n    `;\r\n\r\n    area.style.display = \"block\";\r\n\r\n    alertTimeout = setTimeout(() => hideAlert(), 8000);\r\n}\r\nfunction hideAlert() {\r\n    const area = document.getElementById(\"alert-area\");\r\n    area.innerHTML = \"\";\r\n    area.style.display = \"none\";\r\n}\r\nfunction getIcon(type) {\r\n    switch (type) {\r\n        case \"danger\": return \"bi-exclamation-octagon-fill\";\r\n        case \"warning\": return \"bi-exclamation-triangle-fill\";\r\n        case \"success\": return \"bi-check-circle-fill\";\r\n        case \"info\": return \"bi-info-circle-fill\";\r\n        default: return \"bi-exclamation-circle-fill\";\r\n    }\r\n}\r\n\r\n</script><script>\r\n        // Initialize popovers after DOM loads\r\n        document.addEventListener('DOMContentLoaded', function () {\r\n            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"popover\"]'));\r\n            var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {\r\n                return new bootstrap.Popover(popoverTriggerEl);\r\n            });\r\n        });\r\n    </script><script>\r\n// Reinitialize Bootstrap components after HTMX swaps\r\ndocument.body.addEventListener('htmx:afterSwap', function() {\r\n    // Popovers\r\n    document.querySelectorAll('[data-bs-toggle=\"popover\"]').forEach(el => {\r\n        new bootstrap.Popover(el); // Bootstrap handles duplicates automatically in v5+\r\n    });\r\n});\r\n</script></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
